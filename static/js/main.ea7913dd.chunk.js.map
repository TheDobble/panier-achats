{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","Footer.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","Accueil.jsx","ContactezNous.jsx","Apropos.jsx","Page.jsx","hooks/useLocalStorageState.js","index.jsx"],"names":["SommairePanier","etatPanier","panier","cacher","infoPanier","pan","info","articles","Object","values","console","log","nbArticles","length","qteArticles","reduce","valInit","valCourante","qte","sousTotal","i","c","prix","toFixed","tps","tvq","total","retournerInfoPanier","className","Entete","props","useState","etatCacherSP","setCacheSommaire","accumulateur","eltcourant","to","Badge","onClick","badgeContent","color","Footer","annee","Date","getFullYear","avecNom","BtnAjoutPanier","texte","btnClasse","event","Produit","id","nom","setPanier","btnTexte","btnQte","btnCouleurCls","src","alt","JSON","parse","stringify","ListeProduits","tabProduits","map","prd","Accueil","ContactezNous","Page","valeurInitiale","etiquetteLS","window","localStorage","getItem","etat","setEtat","useEffect","setItem","useLocalStorageState","path","component","exact","aPropos","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.ea7913dd.chunk.js","sourcesContent":["import './SommairePanier.scss';\r\n\r\nexport default function SommairePanier({etatPanier:[panier, setPanier],cacher}){\r\n    const infoPanier = retournerInfoPanier(panier);\r\n    return(\r\n\r\n        <div className= {'SommairePanier' + (cacher?' cacher':'')}>\r\n            <span className=\"nbArticles\">Articles Différents: {infoPanier.nbArticles}</span>\r\n            <span className=\"qteArticles\">Articles total: {infoPanier.qteArticles}</span>\r\n            <span className=\"sousTotal\">Sous-Total: {infoPanier.sousTotal} </span>\r\n            <span className=\"tps\">TPS: {infoPanier.tps}</span>\r\n            <span className=\"tvq\">TVQ: {infoPanier.tvq}</span>\r\n            <span className=\"Total\">Total: {infoPanier.total}</span>\r\n        </div>\r\n\r\n    );\r\n\r\n}\r\n\r\nfunction retournerInfoPanier(pan){\r\n   let info = {}; //{nbArticles : 2, qteArticles : 18, sousTotal ; 1234}\r\n\r\n   //Sortir les articles et les mettres dans un tableau\r\n   let articles = Object.values(pan);\r\n   console.log(articles);\r\n   //nb d'articles diff\r\n   info.nbArticles = articles.length;\r\n   //Quantité d'articles total\r\n    info.qteArticles = articles.reduce((valInit, valCourante)=>{\r\n        return valCourante.qte + valInit;\r\n    },0);\r\n\r\n    //Sous-Total\r\n    let sousTotal = articles.reduce((i, c)=>{\r\n        return c.prix * c.qte + i;\r\n    },0);\r\n    info.sousTotal = sousTotal.toFixed(2);\r\n    let tps = sousTotal*0.05;\r\n    info.tps = tps.toFixed(2);\r\n    let tvq = sousTotal*0.09975\r\n    info.tvq = tvq.toFixed(2);\r\n    info.total = (sousTotal + tps + tvq).toFixed(2);\r\n\r\n    console.log(info.sousTotal);\r\n\r\n    return info;\r\n}","import './Entete.scss';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport Badge from '@material-ui/core/Badge'\r\nimport SommairePanier from './SommairePanier';\r\nimport { useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Entete(props){\r\n\r\n    const [etatCacherSP, setCacheSommaire] = useState(true);\r\n    \r\n    const basculerSommairePanier = ()=> setCacheSommaire(!etatCacherSP);\r\n\r\n    const [panier,setPanier] = props.etatPanier;\r\n    console.log(panier)\r\n    let nbArticles = Object.values(panier).reduce((accumulateur, eltcourant)=> accumulateur + eltcourant.qte,0);\r\n\r\n\r\n        return(\r\n        <header className=\"Entete\">\r\n            <div><Link to=\"/\">Logo</Link></div>\r\n            <ul className=\"navPrincipale\"> \r\n                <li><Link to=\"/nos-produits\">Produits</Link></li>\r\n                <li><Link to=\"/a-propos-de-magasin\">A propos de nous</Link></li>\r\n                <li><Link to=\"/contact\">Contactez-Nous</Link></li>\r\n            </ul>\r\n            <ul className=\"navUtil\">\r\n                <li>\r\n                    <Badge onClick={basculerSommairePanier} badgeContent={nbArticles} color=\"primary\">\r\n                    <ShoppingCartIcon/>\r\n                    </Badge>\r\n                    <SommairePanier cacher={etatCacherSP} etatPanier = {props.etatPanier}/>\r\n                </li>\r\n                <li>Mon Compte</li>\r\n            </ul>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Entete\r\n","import './Footer.scss';\r\n\r\nfunction Footer(props){\r\n    const annee = (new Date()).getFullYear();\r\n    return(\r\n        <footer>\r\n        &copy; {annee} -Footer {props.avecNom}\r\n      </footer>\r\n    );\r\n}\r\n\r\nexport default Footer\r\n","import './BtnAjoutPanier.scss';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport { useState } from 'react';\r\nexport default function BtnAjoutPanier({qte,onClick,texte,btnClasse}){\r\n    \r\n    return(\r\n        <Badge  badgeContent={qte} color=\"secondary\">\r\n        <button className= {`BtnAjoutPanier ${btnClasse}`}\r\n                onClick ={(event) =>{onClick()}}>{texte}</button>\r\n        </Badge>\r\n    )\r\n}\r\n","import BtnAjoutPanier from './BtnAjoutPanier';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport './Produit.scss'\r\n\r\nexport default function Produit({etatPanier,id, prix, nom}) {\r\n    /**\r\n     * Ajoute l'article au panier\r\n     */\r\n\r\n    const [panier, setPanier] = etatPanier;\r\n\r\n\r\n    function ajouterArticle() {\r\n  \r\n        if(panier[id]){\r\n            //setPanier();\r\n            panier[id].qte++;\r\n        }\r\n        else{\r\n            //setPanier();\r\n            panier[id] = {prix: prix, qte : 1}\r\n        }\r\n        //Maintenant il faut changer l'état du panier\r\n        setPanier(JSON.parse(JSON.stringify(panier)));\r\n        //setPanier(nouveauPanier);\r\n        //console.log(panier);\r\n    }\r\n\r\n    let btnTexte = \"Ajouter au panier\";\r\n    let btnQte = 0;\r\n    let btnCouleurCls = \"\";\r\n    if(panier[id]){\r\n        btnTexte = <AddCircleOutlineIcon/>; // JSX ; Javascript Syntax extension\r\n        btnQte = panier[id].qte;\r\n        btnCouleurCls = \"rouge\";\r\n    }\r\n    return(\r\n       <li className=\"Produit\">\r\n           <div className=\"image\">\r\n               <img src={'images_produits/' + id + '.webp'} alt={nom}/>\r\n           </div>   \r\n            <div className=\"info\">\r\n                <h3>{nom}</h3>\r\n                <p className=\"Red\">{prix} CA</p>\r\n                <BtnAjoutPanier onClick={ajouterArticle} texte={btnTexte} qte={btnQte} btnClasse={btnCouleurCls} />\r\n            </div>\r\n          \r\n       </li>\r\n    );\r\n\r\n}","import './ListeProduits.scss'\r\nimport Produit from './Produit'\r\nimport tabProduits from './data/produits.json';\r\n\r\nexport default function ListeProduits(props) {\r\n    return(\r\n        <div>\r\n            <div className=\"ListeProduits\">\r\n                <h2>Produits disponible</h2>\r\n                <ul>\r\n                    {\r\n                       tabProduits.map((prd) =>\r\n                       \r\n                        <Produit \r\n                                key={prd.id}\r\n                                etatPanier={props.etatPanier}\r\n                                id={prd.id} \r\n                                nom={prd.nom} \r\n                                prix={prd.prix} />\r\n                       )\r\n                    }\r\n                 \r\n                </ul>\r\n\r\n            </div>\r\n\r\n\r\n        </div>\r\n\r\n    );\r\n\r\n}","export default function Accueil() {\r\n    return(\r\n            <div className=\"Accueil\">\r\n                <h2>Magasin</h2>\r\n                <p>Page d'accueil en construction</p>\r\n               \r\n            </div>\r\n    );\r\n\r\n}","export default function ContactezNous() {\r\n    return(\r\n            <div className=\"Contact\">\r\n                <h2>Contactez-nous</h2>\r\n                <p>911</p>\r\n               \r\n            </div>\r\n    );\r\n\r\n}","export default function Accueil() {\r\n    return(\r\n            <div className=\"Accueil\">\r\n                <h2>À propos de nous</h2>\r\n                <p>Bla bla bla...</p>\r\n               \r\n            </div>\r\n    );\r\n\r\n}","import Entete from './Entete'\nimport Footer from './Footer'\nimport ListeProduits from './ListeProduits'\nimport './Page.scss';\nimport useLocalStorageState from './hooks/useLocalStorageState';\nimport {Switch, Route} from 'react-router-dom';\nimport Accueil from \"./Accueil\";\nimport ContactezNous from \"./ContactezNous\";\nimport aPropos from \"./Apropos\";\n\n\nexport default function Page() {\n \n  //On utilise notre hook perso pour créer un état qui sera sauvegardé dans localStorage\n  // Cet état aura comme valeur init : {} et l'étiquette sera \"panier\"\n  const etatPanier = useLocalStorageState({}, \"panier\");\n \n //Autre exemple d'utilisation\n  /*const etatPanier = useState(() =>{\n    \n    const panierLS = window.localStorage.getItem('panier');\n    return (panierLS !== null) ? JSON.parse(panierLS) : {};\n  });\n  const [panier,setPanier] = etatPanier;\n\n  //Sauvergarder le panier dans localStorage\n  //Cp,,e ce cpde est un effet secondaire de votre composant\n  //(qui doit être exécuté à chaque mutation du panier) la bonne façon\n  //le coder en respectant la manière React est d'utiliser un hook spécialisé\n  useEffect(() => {\n    window.localStorage.setItem('panier', JSON.stringify(panier))\n  },[panier]); // tableau des dépendances*/\n\n\n  return (\n   <div className=\"Page\">\n        <Entete etatPanier = {etatPanier}/>\n      <section className=\"contenuPrincipal\">\n        <Switch>\n          <Route path=\"/\" component={Accueil} exact/>\n          <Route path=\"/nos-produits\" exact>\n            <ListeProduits etatPanier = {etatPanier}/>\n          </Route>\n          <Route path=\"/a-propos-de-magasin\" component={aPropos} exact/>\n          <Route path=\"/contact\" component={ContactezNous} exact/>\n        </Switch>\n      </section>\n        <Footer avecNom=\"Daniel Fiola\"/>\n   </div>\n\n  );\n}\n","import { useEffect, useState } from 'react';\r\n\r\n/**\r\n * Obtient un état React qui sera sauvegardé dans localStorage\r\n * \r\n * @param {*} valeurInitiale valeur quelconque avec laquelle on veut initialiser l'état\r\n * @param {string} etiquetteLS chaîne de caractère pour l'étiquette localStorage\r\n * \r\n * @returns {array} tableau retourné par useState\r\n */\r\nexport default function useLocalStorageState(valeurInitiale, etiquetteLS) {\r\n  const [etat, setEtat] = useState(\r\n    () => JSON.parse(window.localStorage.getItem(etiquetteLS)) || valeurInitiale\r\n  );\r\n\r\n  useEffect(\r\n    () => window.localStorage.setItem(etiquetteLS, JSON.stringify(etat)),\r\n    [etat, etiquetteLS]\r\n  );\r\n\r\n  // Retourner l'état\r\n  return [etat, setEtat];\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router} from 'react-router-dom';\nimport './index.scss';\nimport Page from './Page';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/panier-achats\">\n    <Page />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n "],"sourceRoot":""}